<!-- Navigation Container -->
<div class="navigation-container">
  <button class="nav-btn" (click)="toggleView('templates')">
    <i class="fas fa-file-alt"></i> Templates
  </button>
  <button class="nav-btn" (click)="toggleView('audit-trail')">
    <i class="fas fa-history"></i> Audit Trail
  </button>
  <button class="nav-btn" (click)="toggleView('scheduled-reports')">
    <i class="fas fa-clock"></i> Scheduled Report
  </button>
  <button class="nav-btn" (click)="toggleView('sensitive-reports')">
    <i class="fas fa-shield-alt"></i> Sensitive Reports
  </button>
</div>

<!-- Main Dashboard View -->
<div *ngIf="currentView === 'main'" class="main-view">
  <!-- Dashboard Section -->
  <div id="dashboard" class="dashboard-section">
    <!-- Key Metrics -->
    <div class="metrics-grid">
      <div class="metric-card">
        <div class="metric-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="metric-content">
          <h3>Total Employees</h3>
          <div class="metric-value">
            <span class="number">1250</span>
            <span class="trend positive">
              <i class="fas fa-arrow-up"></i>
              5.2%
            </span>
          </div>
        </div>
      </div>

      <div class="metric-card">
        <div class="metric-icon">
          <i class="fas fa-tasks"></i>
        </div>
        <div class="metric-content">
          <h3>Active Requests</h3>
          <div class="metric-value">
            <span class="number">48</span>
            <span class="trend negative">
              <i class="fas fa-arrow-down"></i>
              -2.1%
            </span>
          </div>
        </div>
      </div>

      <div class="metric-card">
        <div class="metric-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="metric-content">
          <h3>Pending Approvals</h3>
          <div class="metric-value">
            <span class="number">15</span>
            <span class="trend">
              <i class="fas fa-minus"></i>
              0%
            </span>
          </div>
        </div>
      </div>

      <div class="metric-card">
        <div class="metric-icon">
          <i class="fas fa-server"></i>
        </div>
        <div class="metric-content">
          <h3>System Uptime</h3>
          <div class="metric-value">
            <span class="number">99.9</span>
            <span class="trend positive">
              <i class="fas fa-arrow-up"></i>
              0.1%
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Module Activities -->
    <div class="dashboard-row">
      <div class="dashboard-card module-activities">
        <h2><i class="fas fa-chart-line"></i> Module Activities</h2>
        <div class="activity-list">
          <div class="activity-item" *ngFor="let activity of moduleActivities">
            <div class="activity-header">
              <span class="module-name">
                <i class="fas fa-folder"></i> {{ activity.module }}
              </span>
              <span class="status-badge" [ngClass]="activity.status">
                <i class="fas fa-circle"></i> {{ activity.status }}
              </span>
            </div>
            <div class="activity-details">
              <span class="active-users">
                <i class="fas fa-user-circle"></i>
                {{ activity.activeUsers }} active users
              </span>
              <span class="last-activity">
                <i class="fas fa-history"></i>
                Last activity: {{ formatDate(activity.lastActivity) }}
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- Department Overview -->
      <div class="dashboard-card department-overview">
        <h2><i class="fas fa-building"></i> Department Overview</h2>
        <div class="department-list">
          <div class="department-item" *ngFor="let dept of departmentMetrics">
            <div class="department-header">
              <span class="department-name">
                <i class="fas fa-sitemap"></i> {{ dept.name }}
              </span>
              <span class="completion-rate">{{ dept.completionRate }}%</span>
            </div>
            <div class="department-stats">
              <span class="stat">
                <i class="fas fa-users"></i>
                {{ dept.employeeCount }} employees
              </span>
              <span class="stat">
                <i class="fas fa-tasks"></i>
                {{ dept.activeRequests }} active requests
              </span>
            </div>
            <div class="progress-bar">
              <div class="progress" [style.width.%]="dept.completionRate"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Role Distribution -->
      <div class="dashboard-card role-distribution">
        <h2><i class="fas fa-user-tag"></i> Role Distribution</h2>
        <div class="role-list">
          <div class="role-item" *ngFor="let role of roleDistribution">
            <div class="role-header">
              <span class="role-name">
                <i class="fas fa-user-circle"></i> {{ role.role }}
              </span>
              <span class="role-count">{{ role.count }}</span>
            </div>
            <div class="progress-bar">
              <div class="progress" [style.width.%]="role.percentage"></div>
            </div>
            <span class="percentage">{{ role.percentage }}%</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Template Management View -->
<div *ngIf="currentView === 'templates'" class="template-view">
  <div class="view-header">
    <button class="back-btn" (click)="toggleView('main')">
      <i class="fas fa-arrow-left"></i> Back to Dashboard
    </button>
  </div>
  <app-template-management></app-template-management>
</div>

<!-- Audit Trail View -->
<div *ngIf="currentView === 'audit-trail'" class="audit-trail-view">
  <div class="view-header">
    <button class="back-btn" (click)="toggleView('main')">
      <i class="fas fa-arrow-left"></i> Back to Dashboard
    </button>
  </div>
  <app-audit-trail></app-audit-trail>
</div>

<!-- Scheduled Reports View -->
<div *ngIf="currentView === 'scheduled-reports'" class="scheduled-reports-view">
  <div class="view-header">
    <button class="back-btn" (click)="toggleView('main')">
      <i class="fas fa-arrow-left"></i> Back to Dashboard
    </button>
  </div>
  <app-scheduled-reports></app-scheduled-reports>
</div>

<!-- Sensitive Reports View -->
<div *ngIf="currentView === 'sensitive-reports'" class="sensitive-reports-view">
  <div class="view-header">
    <button class="back-btn" (click)="toggleView('main')">
      <i class="fas fa-arrow-left"></i> Back to Dashboard
    </button>
  </div>
  <app-sensitive-reports></app-sensitive-reports>
</div>